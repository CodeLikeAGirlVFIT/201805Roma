if (self.CavalryLogger) { CavalryLogger.start_js(["AVfQq"]); }

__d("PageVoiceDropdownSelector.react",["cx","BootloadedComponent.react","Image.react","JSResource","React","XUIPopoverButton.react","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={dialogShown:!1,bootloadFinished:!1},this.$1=function(a){this.props.onChange(a),this.setState({dialogShown:!1})}.bind(this),this.$2=function(){return this.refs["open-menu-button"]}.bind(this),this.$3=function(){this.setState({bootloadFinished:!0})}.bind(this),this.$7=function(event){this.setState({dialogShown:!this.state.dialogShown,shownBusinessID:this.state.defaultBusinessID},function(){return this.props.onClick(event)}.bind(this))}.bind(this),this.$4=function(a){this.setState({dialogShown:a})}.bind(this),this.$5=function(){var a=this.props.selectedActorID;if(!a)return"";return a===this.props.user.id?this.props.user.thumbSrc||"":this.props.pages[a].thumbSrc||""}.bind(this),this.$6=function(){var a=this.props.selectedActorID;if(!a)return"";return a===this.props.user.id?this.props.user.name||"":this.props.pages[a].name||""}.bind(this),b}a.prototype.render=function(){var a=null;this.state.dialogShown&&(a=b("React").createElement(b("BootloadedComponent.react"),babelHelpers["extends"]({bootloadLoader:b("JSResource")("PageVoiceDropdownSelectorMenu.react").__setRef("PageVoiceDropdownSelector.react"),bootloadPlaceholder:b("React").createElement("div",null),onComponentLoad:this.$3},this.props,{contextRef:this.$2,shown:!0,shownBusinessID:this.state.shownBusinessID,onChange:this.$1,onToggle:this.$4})));var c=this.state.dialogShown&&!this.state.bootloadFinished;c=this.props.loading||c;var d=null,e=null;c?e=b("React").createElement("span",{className:"_2wk7"},b("React").createElement(b("XUISpinner.react"),null)):d=b("React").createElement(b("Image.react"),{className:"_6vg",height:16,src:this.$5(),width:16});return b("React").createElement("span",null,b("React").createElement(b("XUIPopoverButton.react"),{"aria-label":this.props.ariaLabel,disabled:this.props.disabled,image:b("React").createElement("span",null,d,e),label:this.$6(),labelIsHidden:!this.props.showPageName,maxwidth:this.props.maxwidth,ref:"open-menu-button",suppressed:this.props.suppressed,type:"button",onClick:this.$7}),a)};a.propTypes={ariaLabel:c.string,disabled:c.bool,loading:c.bool,maxWidth:c.number,pages:c.object.isRequired,selectedActorID:c.string,showPageName:c.bool,suppressed:c.bool.isRequired,user:c.object.isRequired,onChange:c.func.isRequired,onClick:c.func.isRequired};a.defaultProps={disabled:!1,showPageName:!1};e.exports=a}),null);
__d("PagesCalloutActions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({REGISTER_CALLOUT:"register_callout",INIT_SURFACE:"init_surface",SHOW_CALLOUT:"show_callout",DISMISS_CALLOUT:"dismiss_callout"})}),null);
__d("PagesCalloutDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";var g;c=babelHelpers.inherits(a,b("ExplicitRegistrationReactDispatcher"));g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.dispatch=this.dispatch.bind(this)}e.exports=new a({strict:!0})}),null);
__d("ActorSelector.react",["cx","Arbiter","BizSiteIdentifier.brands","BootloadedComponent.react","Bootloader","Event","JSResource","PagesCalloutActions","PagesCalloutDispatcher","PageVoiceDropdownSelector.react","React","ReactDOM","ShortProfiles","TooltipData","emptyFunction","getObjectValues","goURI","joinClasses","tidyEvent"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;var i=500;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={actorData:{},nuxShown:!1,selectedActorID:this.props.selectedActorID},this.$4=function(){return this.refs.selector}.bind(this),this.$3=function(){b("ShortProfiles").getMulti(this.props.actorIDs,function(a){this.$2&&this.setState({actorData:a})}.bind(this))}.bind(this),this.$9=function(){this.state.nuxShown&&this.$5()}.bind(this),this.$8=function(a){if(this.props.syncEnabled){b("Arbiter").inform("ActorSelector/ActorChange",a);return}this.props.onChange(a)}.bind(this),this.$6=function(){this.$5(),b("goURI")(this.props.settingsURI)}.bind(this),this.$5=function(){this.setState({nuxShown:!1}),this.props.onCompleteNux&&this.props.onCompleteNux()}.bind(this),this.$11=function(){if(!this.props.nuxEnabled)return;this.props.nuxHoverContext&&!this.$14&&(this.$14=b("tidyEvent")(b("Event").listen(this.props.nuxHoverContext,"mouseenter",function(){b("Bootloader").loadModules(["ActorSelectorNUXLayer.react"],b("emptyFunction"),"ActorSelector.react");var a=setTimeout(function(){this.$14.remove(),this.$15()}.bind(this),i),c=b("tidyEvent")(b("Event").listen(this.props.nuxHoverContext,"mouseleave",function(){clearTimeout(a),c.remove()}))}.bind(this))))}.bind(this),this.$10=function(){if(!this.props.nuxEnabled||!this.props.pageTimelineNuxTipID)return;b("PagesCalloutDispatcher").dispatch({type:b("PagesCalloutActions").REGISTER_CALLOUT,data:{tip_id:this.props.pageTimelineNuxTipID,showCallback:function(){return this.$15()}.bind(this)}})}.bind(this),this.$15=function(){this.props.nuxEnabled&&this.setState({nuxShown:!0})}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){"use strict";this.$2=!0,this.$3()};a.prototype.render=function(){"use strict";if(!this.state.selectedActorID||!this.state.actorData[this.state.selectedActorID])return b("React").createElement("div",null);if(this.props.actorIDs.length===0)return b("React").createElement("div",null);var a=null;this.state.nuxShown&&(a=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ActorSelectorNUXLayer.react").__setRef("ActorSelector.react"),bootloadPlaceholder:b("React").createElement("span",null),onCompleteNux:this.$5,onClickSettings:this.$6,settingsURI:this.props.settingsURI,shown:!0,contextRef:this.$4,nuxBody:this.props.nuxBody}));return b("React").createElement("span",{className:b("joinClasses")("_6vh",this.props.className),"data-testid":"actor-selector"},b("React").createElement("span",{ref:"selector"},b("React").createElement(b("PageVoiceDropdownSelector.react"),{ariaLabel:this.$7(),disabled:this.props.disabled,loading:this.props.loading,pages:this.state.actorData,onChange:this.$8,onClick:this.$9,selectedActorID:this.state.selectedActorID,searchBarVisible:!0,showBusinessPages:!1,showPageName:this.props.showName,showNameMaxWidth:this.props.showNameMaxWidth,showPersonalPagesInRoot:!b("BizSiteIdentifier.brands").isBizSite(),suppressed:this.props.suppressed,user:b("getObjectValues")(this.state.actorData)[0]})),a)};a.prototype.componentDidMount=function(){"use strict";this.$10(),this.$11(),this.$12(),this.props.syncEnabled&&this.$13()};a.prototype.componentDidUpdate=function(a,c){"use strict";this.props.actorIDs.toString()!==a.actorIDs.toString()&&this.$3(),this.$11(),this.$12(),this.state.nuxShown&&!c.nuxShown&&this.props.onShowNux&&this.props.onShowNux(),this.props.selectedActorID!==a.selectedActorID&&(this.setState({selectedActorID:this.props.selectedActorID}),b("Arbiter").inform("ActorSelector/ActorSelected",{selectedActorID:this.props.selectedActorID}))};a.prototype.componentWillUnmount=function(){"use strict";this.$2=!1,this.$1&&b("Arbiter").unsubscribe(this.$1)};a.prototype.$13=function(){"use strict";this.$1=b("Arbiter").subscribe("ActorSelector/ActorChange",function(a,b){if(this.props.actorIDs.indexOf(b.value)===-1)return;this.setState({selectedActorID:b.value},function(){return this.props.onChange(b)}.bind(this))}.bind(this))};a.prototype.$16=function(){"use strict";var a=this.state.actorData[this.state.selectedActorID];if(!a)return null;return!this.props.tooltipConstructor?null:this.props.tooltipConstructor(a.name)};a.prototype.$7=function(){"use strict";var a=this.$16();return!a?null:a.toString()};a.prototype.$12=function(){"use strict";if(!this.refs.selector)return;var a=this.$16();if(!a)return;b("TooltipData").set(b("ReactDOM").findDOMNode(this.refs.selector),a,"above","right")};a.propTypes={actorIDs:c.array.isRequired,disabled:c.bool,loading:c.bool,nuxBody:c.node,nuxEnabled:c.bool,nuxHoverContext:c.object,onChange:c.func.isRequired,onCompleteNux:c.func,onShowNux:c.func,pageTimelineNuxTipID:c.string,selectedActorID:c.string,settingsURI:c.string,showName:c.bool,showNameMaxWidth:c.number,suppressed:c.bool,syncEnabled:c.bool,tooltipConstructor:c.func};a.defaultProps={disabled:!1,suppressed:!0};e.exports=a}),null);
__d("LeftNavFitToHeight",["csx","cx","Arbiter","Bootloader","CSS","DOMQuery","DOMDimensions","Parent","Run","UIGridColumnsConfig","UserAgent","throttle"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=null,j=null,k=!1,l={fitIfOnlyOne:!1,hasToolbar:!1,maxChildren:0},m=null,n="fixed_elem",o=b("UserAgent").isDevice("iPad"),p=b("UserAgent").isPlatform("Android >= 6")&&b("UserAgent").isBrowser("Chrome >= 49"),q={MIN_CHILDREN:1,MAX_CHILDREN:10,TOP_MARGIN:43,BOTTOM_MARGIN:78,TOOLBAR:45,init:function(a,c){i=a,Object.assign(l,c),j=b("Parent").bySelector(i,"._1qkq > #pagelet_navigation"),j&&(b("CSS").addClass(j,n),(o||p)&&(b("Bootloader").loadModules(["UITinyViewportAction"],function(a){a=!b("UIGridColumnsConfig").responsive_rhc_when_narrow&&a.isTiny();j&&b("CSS").conditionClass(j,n,!a)},"LeftNavFitToHeight"),m=b("Arbiter").subscribe("tinyViewport/change",function(a,c){a=c.tiny;j&&(o||p)&&b("CSS").conditionClass(j,n,!a)})),r(),window.addEventListener("resize",r),b("Run").onLeave(q.destroy))},destroy:function(){j&&b("CSS").removeClass(j,n),i=null,j=null,k=!1,window.removeEventListener("resize",r),m&&b("Arbiter").unsubscribe(m)}},r=b("throttle")(function(){i&&!u(i)&&s(i)});function s(a){k||(k=!0,b("Bootloader").loadModules(["LeftNavScrollable"],function(b){b.init(a)},"LeftNavFitToHeight"))}function t(a){var c=b("DOMQuery").scry(a,"#pinnedNav ul")[0];a=b("DOMQuery").scry(a,"#appsNav ul")[0];return{shortcutsContainer:c,exploreContainer:a}}function u(a){__p&&__p();var c=t(a),d=c.shortcutsContainer;c=c.exploreContainer;var e=!!d+!!c;if(!x(a,d,c))return!1;var f=A(d,c);if(!f)return!1;a=w(a,d,c);a=Math.floor(a/f);f=d?b("DOMQuery").scry(d,"li.sideNavItem"):[];d=c?b("DOMQuery").scry(c,"li.sideNavItem"):[];c=v(a,f.length,d.length);var g=c.shortcutsCount,h=c.exploreCount,i="_3odl";f.forEach(function(a,c){b("CSS").conditionClass(a,i,c>=g)});d.forEach(function(a,c){b("CSS").conditionClass(a,i,c>=h)});return a<q.MIN_CHILDREN*e?!1:!0}function v(a,b,c){var d=Math.max(Math.floor(a/2),q.MIN_CHILDREN);d=Math.min(d,b,l.maxChildren||q.MAX_CHILDREN);b=Math.max(a-d,q.MIN_CHILDREN);b=Math.min(b,c,l.maxChildren||q.MAX_CHILDREN);return{exploreCount:b,shortcutsCount:d}}function w(a){for(var c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];var f=d.reduce(function(a,c){return c!=null?a+b("DOMDimensions").getElementDimensions(c).height:a},0),g=b("DOMDimensions").getElementDimensions(a).height;return window.innerHeight-(g-f)-(q.TOP_MARGIN+(l.hasToolbar?q.TOOLBAR:0)+q.BOTTOM_MARGIN)}function x(a){for(var c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return a&&b("DOMQuery").contains(window.document.body,a)&&y(d)}function y(a){return l.fitIfOnlyOne?a.find(function(a){return z(a)})!=null:a.every(function(a){return z(a)})}function z(a){return a!=null&&b("CSS").matchesSelector(a,"._5pyq")}function A(){for(var a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];var e=B(c);return e!=null?b("DOMDimensions").getElementDimensions(e).height:0}function B(a){__p&&__p();var c="li.sideNavItem";for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;if(f!=null){f=b("DOMQuery").scry(f,c)[0];if(f!=null)return f}}return null}e.exports=q}),18);
__d("ActorSelectorNuxTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMPOSER:"composer_seen_count",COMPOSER_COVERED:"composer_covered_seen_count",M_COMPOSER:"m_composer_seen_count",M_UFI:"m_ufi_seen_count",UFI:"ufi_seen_count",UFI_TIMELINE:"ufi_timeline_seen_count",UFI_TIMELINE_COVERED:"ufi_timeline_covered_seen_count"})}),null);
__d("XActorSelectorNuxSeenWriteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/actor_selector/nux/mark_seen/",{nux_type:{type:"Enum",required:!0,enumType:1}})}),null);
__d("UFIActorSelector.react",["csx","fbt","ActorSelector.react","ActorSelectorNuxTypes","Arbiter","AsyncRequest","Parent","React","ReactDOM","SubscriptionsHandler","UFICentralUpdates","UFIFeedbackTargets","UFIODSLogger","UFIUserActions","UFIVersion","XActorSelectorNuxSeenWriteController","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;var j="ufi_actor_selector_nux_disabled_event";d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;function a(a){__p&&__p();i.constructor.call(this,a);this.$3=function(a){b("UFIODSLogger").bump("actor_selector.on_change",b("UFIVersion").LEGACY),this.setState({loading:!0}),b("UFIUserActions").changeActor(this.props.ftEntIdentifier,a.value)}.bind(this);this.$5=function(){var a=this.props.isTimeline?b("ActorSelectorNuxTypes").UFI_TIMELINE:b("ActorSelectorNuxTypes").UFI;a=b("XActorSelectorNuxSeenWriteController").getURIBuilder().setEnum("nux_type",a).getURI();new(b("AsyncRequest"))().setURI(a).send()}.bind(this);a=b("UFIFeedbackTargets").getFeedbackTargetIfExists(this.props.ftEntIdentifier);a=a&&a.actorforpost;this.state={loading:!a,nuxEnabled:!!this.props.nuxEnabled,nuxHoverContext:null,selectedActorID:a||null}}a.prototype.render=function(){return b("React").createElement(b("ActorSelector.react"),{actorIDs:this.props.actorIDs,loading:this.props.loading||this.state.loading,nuxBody:this.$2(),nuxEnabled:this.state.nuxEnabled,nuxHoverContext:this.state.nuxHoverContext,onChange:this.$3,onShowNux:this.$4,onCompleteNux:this.$5,selectedActorID:this.state.selectedActorID,settingsURI:this.props.settingsURI,tooltipConstructor:this.$6,syncEnabled:this.props.syncEnabled})};a.prototype.componentDidMount=function(){__p&&__p();b("UFIODSLogger").bump("actor_selector.component_did_mount",b("UFIVersion").LEGACY);this.$7();this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("UFICentralUpdates").subscribe("feedback-updated",function(a,b){this.props.ftEntIdentifier in b.updates&&this.$7()}.bind(this)),b("Arbiter").subscribe(j,function(){this.setState({nuxEnabled:!1})}.bind(this)));if(this.state.nuxEnabled){var a=b("ReactDOM").findDOMNode(this);if(a){a=b("Parent").bySelector(a,"._5pcr");a instanceof HTMLElement&&this.setState({nuxHoverContext:a})}}};a.prototype.componentWillUnmount=function(){this.$1.release()};a.prototype.$7=function(){b("UFIFeedbackTargets").getFeedbackTarget(this.props.ftEntIdentifier,function(a){if(this.state.loading===!1&&this.state.selectedActorID===a.actorforpost)return;this.setState({loading:!1,selectedActorID:a.actorforpost})}.bind(this))};a.prototype.$2=function(){return h._("Metti \"Mi piace\", commenta o condividi contenuti a tuo nome o a nome delle Pagine che gestisci.")};a.prototype.$6=function(a){return h._("Stai mettendo \"Mi piace\" e commentando come {actorName}",[h._param("actorName",a)])};a.prototype.$4=function(){b("Arbiter").inform(j)};a.propTypes={actorIDs:c.array.isRequired,ftEntIdentifier:c.string.isRequired,isTimeline:c.bool,loading:c.bool,nuxEnabled:c.bool,settingsURI:c.string,syncEnabled:c.bool};e.exports=a}),null);
__d("UserScheduledPostsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:UserScheduledPostsLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:UserScheduledPostsLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:UserScheduledPostsLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAction=function(a){this.$1.action=a;return this};a.prototype.setAppID=function(a){this.$1.app_id=a;return this};a.prototype.setContent=function(a){this.$1.content=a;return this};a.prototype.setJobInstance=function(a){this.$1.job_instance=a;return this};a.prototype.setPostAttachmentType=function(a){this.$1.post_attachment_type=a;return this};a.prototype.setPostID=function(a){this.$1.post_id=a;return this};a.prototype.setPublishTime=function(a){this.$1.publish_time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={action:!0,app_id:!0,content:!0,job_instance:!0,post_attachment_type:!0,post_id:!0,publish_time:!0,vc:!0};e.exports=a}),null);
__d("FBStoriesPrivacySelectorClickHandler",["Bootloader","CSS","Event","Run","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";a={registerForClick:function(a){var c=a.button,d=a.buttonIcon,e=a.buttonSpinner,f=a.container,g=new(b("SubscriptionsHandler"))();g.addSubscriptions(b("Event").listen(c,"click",function(a){a.stopPropagation(),b("CSS").hide(d),b("CSS").show(e),b("Bootloader").loadModules(["FBStoriesPrivacySelector"],function(a){a.onClick({buttonIcon:d,buttonSpinner:e,container:f})},"FBStoriesPrivacySelectorClickHandler")}));b("Run").onBeforeUnload(function(){g.release()})}};e.exports=a}),null);
__d("FBStoriesPrivacySelectorJS",["Bootloader","CSS","DOM","Event","Run","SubscriptionsHandler","idx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$1=a.audienceModeIcons,this.$2=a.button,this.$4=a.buttonLabel,this.$3=a.buttonIcon,this.$5=a.buttonSpinner,this.$6=a.container,this.$7=new(b("SubscriptionsHandler"))(),b("Bootloader").loadModules(["FBStoriesGraphQLAPI","Button","TooltipData","FBStoriesPrivacyHelper"],function(a,b,c,d,e){this.$7.addSubscriptions(a.subscribeToPrivacyChanges(function(a){this.$8(a,b,c,d)}.bind(this)))}.bind(this),"FBStoriesPrivacySelectorJS"),this.$7.addSubscriptions(b("Event").listen(this.$2,"click",function(a){a.stopPropagation(),b("CSS").hide(this.$3),b("CSS").show(this.$5),b("Bootloader").loadModules(["FBStoriesPrivacySelector"],function(a){a.onClick({buttonIcon:this.$3,buttonSpinner:this.$5,container:this.$6})}.bind(this),"FBStoriesPrivacySelectorJS")}.bind(this))),b("Run").onBeforeUnload(function(){this.$7.release()}.bind(this))}a.prototype.$8=function(a,c,d,e){__p&&__p();a=(a=a)!=null?(a=a.unified_stories_privacy_change_subscribe)!=null?a.viewer:a:a;if(!a)return;var f=e.getSelectedAudienceMode(a);e=e.getEligibleAudienceModesList(a);if(!f||!e)return;a=e.find(function(a){return a.unified_stories_audience_mode===f});if(!a)return;b("DOM").setContent(this.$4,a.header);e=this.$1[f];e&&c.setIcon(this.$2,e.cloneNode());d.set(this.$2,a.header)};e.exports=a}),null);
__d("ComposerStoryCreateMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLMutationBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1931212663571278"};c.getQueryID=function(){"use strict";return"576284395828557"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("ReactComposerActionStore",["Arbiter","AsyncResponse","ReactComposerActionTypes","ReactComposerEvents","ReactComposerStoreBase","requireWeak"],(function(a,b,c,d,e,f){__p&&__p();var g,h=void 0;b("requireWeak")("ReactComposerStatusStore",function(a){return h=a});c=babelHelpers.inherits(a,b("ReactComposerStoreBase"));g=c&&c.prototype;function a(a,c){"use strict";__p&&__p();a=a?a:function(){return null};var d=void 0;g.constructor.call(this,a,function(a){__p&&__p();if(!(d&&d.__shouldIgnoreAction(a)))switch(a.type){case b("ReactComposerActionTypes").POST_STARTED:d&&d.$ReactComposerActionStore2(a);break;case b("ReactComposerActionTypes").POST_INTENDED:d&&d.$ReactComposerActionStore3(a);break;case b("ReactComposerActionTypes").POST_SUCCEEDED:d&&d.$ReactComposerActionStore4(a);break;case b("ReactComposerActionTypes").POST_ERROR:d&&d.$ReactComposerActionStore5(a);break;case b("ReactComposerActionTypes").POST_FINALLY:d&&d.$ReactComposerActionStore6(a);break;case b("ReactComposerActionTypes").POST_PREPROCESSING:d&&d.$ReactComposerActionStore7(a);break;default:}c&&c(a)});d=this;this.$ReactComposerActionStore1=new Set()}a.prototype.registerComposerID=function(a){"use strict";this.$ReactComposerActionStore1.add(a)};a.prototype.$ReactComposerActionStore2=function(a){"use strict";var c=this.validateAction(a,"composerID");this.__onPostStarted&&this.__onPostStarted(a);b("Arbiter").inform(b("ReactComposerEvents").POST_STARTED+c)};a.prototype.$ReactComposerActionStore3=function(a){"use strict";this.validateAction(a,["composerID","actorID","config","targetID"]),(!this.__canPost||this.__canPost(a))&&this.$ReactComposerActionStore2(a)};a.prototype.$ReactComposerActionStore4=function(a){"use strict";var c=this.validateAction(a,"composerID");h&&h.getMessage(c);this.__onPostSucceeded&&this.__onPostSucceeded(a);b("Arbiter").inform(b("ReactComposerEvents").POST_SUCCEEDED+c)};a.prototype.$ReactComposerActionStore5=function(a){"use strict";if(this.__onPostError)return this.__onPostError(a);a.response&&b("AsyncResponse").defaultErrorHandler(a.response)};a.prototype.$ReactComposerActionStore6=function(a){"use strict";this.__onPostFinally&&this.__onPostFinally(a),b("Arbiter").inform(b("ReactComposerEvents").POST_FINALLY)};a.prototype.$ReactComposerActionStore7=function(a){"use strict";this.__onPostPreprocessing&&this.__onPostPreprocessing(a)};a.prototype.__shouldIgnoreAction=function(a){"use strict";a=this.validateAction(a,"composerID");return!this.$ReactComposerActionStore1.has(a)};e.exports=a}),null);
__d("ReactComposerSproutsDisplayState",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({INLINE:null,EXPANDED:null},"ReactComposerSproutsDisplayState")}),null);
__d("ReactComposerStore",["Bootloader","ReactComposerActionStore","ReactComposerActionTypes","ReactComposerAttachmentActionType","ReactComposerInit","ReactComposerScrapedAttachmentActionType","ReactComposerSproutsDisplayState","UserScheduledPostsTypedLogger"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("ReactComposerActionStore"));g=c&&c.prototype;function a(){"use strict";__p&&__p();var a=void 0;g.constructor.call(this,function(){return{isActive:!1,orderedSprouts:[],serverErrorResponse:null,posting:!1,postSucceeded:!1,publishing:!1,rankerRequestID:null,sproutSurface:null,ref:null,targetType:null,sproutsDisplayState:b("ReactComposerSproutsDisplayState").INLINE,scheduledPublishTime:null,hasLoggedSproutPromotionView:!1,hasFinishedSproutPromotion:!1,shouldShowVoiceSwitcherNux:!1}},function(c){__p&&__p();switch(c.type){case b("ReactComposerActionTypes").INIT_CONFIG:a&&a.$ReactComposerStore1(c);break;case b("ReactComposerActionTypes").PUBLISH_STARTED:a&&a.$ReactComposerStore2(c);break;case b("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:a&&a.$ReactComposerStore3(c);break;case b("ReactComposerActionTypes").EXPAND_SPROUTS:a&&a.$ReactComposerStore4(c);break;case b("ReactComposerActionTypes").COLLAPSE_SPROUTS:a&&a.$ReactComposerStore5(c);break;case b("ReactComposerAttachmentActionType").UPLOAD_ATTACHMENT:case b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED:a&&a.$ReactComposerStore6(c);break;case b("ReactComposerActionTypes").SCHEDULE:a&&a.$ReactComposerStore7(c);break;case b("ReactComposerActionTypes").SET_LOGGED_SPROUT_PROMOTION_VIEW:a&&a.$ReactComposerStore8(c);break;case b("ReactComposerActionTypes").SET_FINISHED_SPROUT_PROMOTION:a&&a.$ReactComposerStore9(c);break;case b("ReactComposerActionTypes").SET_QUEUE_FINISHED_SPROUT_PROMOTION:a&&a.$ReactComposerStore10(c);break;case b("ReactComposerActionTypes").SET_SHOULD_SHOW_VOICE_SWITCHER_NUX:a&&a.$ReactComposerStore11(c);break}});a=this}a.prototype.$ReactComposerStore7=function(a){"use strict";this.getRef(a.composerID)==="timeline"&&this.getTargetType(a.composerID)==="feed"&&new(b("UserScheduledPostsTypedLogger"))().setAction("scheduled_post_submit").log();var c=this.getComposerData(a.composerID);c.scheduledPublishTime=a.scheduleDate};a.prototype.getScheduledPublishTime=function(a){"use strict";return this.getComposerData(a).scheduledPublishTime};a.prototype.getServerErrorResponse=function(a){"use strict";return this.getComposerData(a).serverErrorResponse};a.prototype.getRef=function(a){"use strict";return this.getComposerData(a).ref};a.prototype.getTargetType=function(a){"use strict";return this.getComposerData(a).targetType};a.prototype.getOrderedSprouts=function(a){"use strict";return this.getComposerData(a).orderedSprouts};a.prototype.getRankerRequestID=function(a){"use strict";return this.getComposerData(a).rankerRequestID};a.prototype.isPosting=function(a){"use strict";return this.getComposerData(a).posting};a.prototype.hasPostSucceeded=function(a){"use strict";return this.getComposerData(a).postSucceeded};a.prototype.isActive=function(a){"use strict";return this.getComposerData(a).isActive};a.prototype.isPublishing=function(a){"use strict";return this.getComposerData(a).publishing};a.prototype.getSproutsDisplayState=function(a){"use strict";return this.getComposerData(a).sproutsDisplayState};a.prototype.getSproutSurface=function(a){"use strict";a=this.getComposerData(a);return a.sproutsDisplayState===b("ReactComposerSproutsDisplayState").INLINE?a.inlineSproutSurface:a.sproutSurface};a.prototype.hasLoggedSproutPromotionView=function(a){"use strict";return this.getComposerData(a).hasLoggedSproutPromotionView};a.prototype.hasFinishedSproutPromotion=function(a){"use strict";return this.getComposerData(a).hasFinishedSproutPromotion};a.prototype.getClearSproutPromotionOnNewComposer=function(a){"use strict";return this.getComposerData(a).clearSproutPromotionOnNewComposer};a.prototype.isUploading=function(a){"use strict";return this.getComposerData(a).uploading};a.prototype.shouldShowVoiceSwitcherNux=function(a){"use strict";return this.getComposerData(a).shouldShowVoiceSwitcherNux};a.prototype.__shouldIgnoreAction=function(a){"use strict";return!1};a.prototype.__onPostStarted=function(a){"use strict";var b=this.validateAction(a,"composerID");a=this.getComposerData(a.composerID);a.posting=!0;this.emitChange(b)};a.prototype.__onPostPreprocessing=function(a){"use strict";this.__onPostStarted(a)};a.prototype.__onPostSucceeded=function(a){"use strict";var b=this.validateAction(a,"composerID");a=this.getComposerData(a.composerID);a.serverErrorResponse=null;a.posting=!1;a.postSucceeded=!0;a.publishing=!1;this.emitChange(b)};a.prototype.__onPostError=function(a){"use strict";var b=this.validateAction(a,"composerID"),c=this.getComposerData(a.composerID);c.serverErrorResponse=a.response;c.posting=!1;c.postSucceeded=!1;c.publishing=!1;this.emitChange(b)};a.prototype.__onPostFinally=function(a){"use strict";var b=this.validateAction(a,"composerID");a=this.getComposerData(a.composerID);a.posting=!1;a.publishing=!1;this.emitChange(b)};a.prototype.$ReactComposerStore1=function(a){"use strict";__p&&__p();var b=this.validateAction(a,["composerID","loggingConfig","activateOnInit"]),c=b[0],d=b[1];b=b[2];var e=this.getComposerData(c);e.ref=d.ref;e.composerVersion=d.composerVersion;e.targetType=d.targetType;e.rankerRequestID=d.rankerRequestID||null;e.sproutSurface=d.sproutSurface||null;e.inlineSproutSurface=d.inlineSproutSurface||null;e.lazySproutsExpand=a.lazySproutsExpand||!1;e.orderedSprouts=[];d=a.sproutsConfig;a=a.promotedSprout;if(d){a&&e.orderedSprouts.push(a);for(var f in d)d[f].enabled&&f!==a&&e.orderedSprouts.push(f)}b&&(this.$ReactComposerStore12(c),this.emitChange(c))};a.prototype.$ReactComposerStore8=function(a){"use strict";var b=this.validateAction(a,"composerID");a=this.getComposerData(a.composerID);a.hasLoggedSproutPromotionView=!0;this.emitChange(b)};a.prototype.$ReactComposerStore9=function(a){"use strict";var b=this.validateAction(a,"composerID");a=this.getComposerData(a.composerID);a.hasFinishedSproutPromotion=!0;a.clearSproutPromotionOnNewComposer=!0;this.emitChange(b)};a.prototype.$ReactComposerStore10=function(a){"use strict";var b=this.validateAction(a,"composerID");a=this.getComposerData(a.composerID);a.clearSproutPromotionOnNewComposer=!0;this.emitChange(b)};a.prototype.$ReactComposerStore11=function(a){"use strict";var b=this.validateAction(a,"composerID"),c=this.getComposerData(a.composerID);c.shouldShowVoiceSwitcherNux=a.value;this.emitChange(b)};a.prototype.$ReactComposerStore2=function(a){"use strict";var b=this.validateAction(a,"composerID");a=this.getComposerData(a.composerID);a.publishing=!0;this.emitChange(b)};a.prototype.$ReactComposerStore6=function(a){"use strict";var b=this.validateAction(a,"composerID"),c=this.getComposerData(a.composerID);c.uploading=a.uploading;this.emitChange(b)};a.prototype.$ReactComposerStore3=function(a){"use strict";a=this.validateAction(a,"composerID");var c=this.getComposerData(a);c.lazySproutsExpand||(c.sproutsDisplayState=b("ReactComposerSproutsDisplayState").EXPANDED);this.$ReactComposerStore12(a);this.emitChange(a)};a.prototype.$ReactComposerStore4=function(a){"use strict";a=this.validateAction(a,"composerID");var c=this.getComposerData(a);c.sproutsDisplayState=b("ReactComposerSproutsDisplayState").EXPANDED;this.emitChange(a)};a.prototype.$ReactComposerStore5=function(a){"use strict";a=this.validateAction(a,"composerID");var c=this.getComposerData(a);c.sproutsDisplayState=b("ReactComposerSproutsDisplayState").INLINE;this.emitChange(a)};a.prototype.$ReactComposerStore12=function(a){"use strict";var c=this.getComposerData(a);c.isActive||(c.isActive=!0,b("Bootloader").loadModules(["curry","Run","ReactComposerHandleUnsavedChanges","URI"],function(b,c,d,e){return c.onBeforeUnload(b(d.handler,a,e.getNextURI()))},"ReactComposerStore"))};a.prototype.__cleanup=function(a){"use strict";setTimeout(b("ReactComposerInit").resetComposer.bind(null,a.composerID),0)};e.exports=new a()}),null);
__d("ReactComposerInit",["invariant","Arbiter","React","ReactComposerEvents","ReactComposerStore","ReactComposerIDGenerator","ReactDOM"],(function(a,b,c,d,e,f,g){__p&&__p();var h={_isUnmounting:!1,instances:new Map(),changeProps:function(a,b){var c=h._getCurrentInstance(a);c.props=b;h.resetComposer(a,!0)},normalizeComposerID:function(a){a.contextConfig.composerID||(a.contextConfig.composerID=b("ReactComposerIDGenerator").getID());return a.contextConfig.composerID},init:function(a,c,d){var e=h.normalizeComposerID(c);a={ComposerModule:a,props:c,container:d,hidden:!1};this._render(a);h.instances.set(e,a);b("Arbiter").inform(b("ReactComposerEvents").INSTANCE_MOUNTED+e)},_render:function(a){var c=a.ComposerModule,d=a.props;a=a.container;b("ReactDOM").render(b("React").createElement(c,d),a)},_createNewComposer:function(a,c){a.props.config.sproutsPromotionConfig&&a.props.config.sproutsPromotionConfig.promotionID&&(b("ReactComposerStore").getClearSproutPromotionOnNewComposer(a.props.contextConfig.composerID)&&(a.props.config.sproutsPromotionConfig={})),a.props.contextConfig.composerID=b("ReactComposerIDGenerator").getID(),a.props.prefillConfig={},h.init(a.ComposerModule,a.props,c)},resetComposer:function(a){var c=h._getCurrentInstance(a);h.unmountInstance(a);c.hidden?c.container.parentNode&&c.container.parentNode.removeChild(c.container):h._createNewComposer(c,c.container);b("Arbiter").inform(b("ReactComposerEvents").COMPOSER_RESET+a,{newComposerID:c.props.contextConfig.composerID})},hideComposer:function(a){a=h._getCurrentInstance(a);a.container.style.display="none";a.hidden=!0},showComposer:function(a){a=h._getCurrentInstance(a);a.container.style.display="block";a.hidden=!1},hideAndReplaceComposer:function(a){var c=h._getCurrentInstance(a),d=c.container.cloneNode(!1);c.container.removeAttribute("id");c.container.parentNode&&c.container.parentNode.insertBefore(d,c.container);this.hideComposer(a);h._createNewComposer(c,d);b("Arbiter").inform(b("ReactComposerEvents").COMPOSER_RESET+a,{newComposerID:c.props.contextConfig.composerID})},isInstanceMounted:function(a){return!!h.instances.get(a)},unmountInstance:function(a){h.isInstanceMounted(a)&&!h._isUnmounting&&(h._isUnmounting=!0,h._unmountReact(a),h._isUnmounting=!1,h.instances["delete"](a))},_unmountReact:function(a){var c=h._getCurrentInstance(a);b("ReactDOM").unmountComponentAtNode(c.container);b("Arbiter").inform(b("ReactComposerEvents").COMPOSER_UNMOUNT+a);return c},_getCurrentInstance:function(a){a=h.instances.get(a);a||g(0);return a}};e.exports=h}),null);
__d("ReactComposerActions",["ReactComposerActionTypes","ReactComposerDispatcher","ReactComposerStore"],(function(a,b,c,d,e,f){__p&&__p();b("ReactComposerStore");var g=void 0;a={initConfig:function(a,c,d,e,f,g,h){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").INIT_CONFIG,loggingConfig:c,lazySproutsExpand:d,activateOnInit:e===!0,sproutsConfig:f,promotedSprout:g,triggeredFrom:h})},schedule:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").SCHEDULE,scheduleDate:c})},postError:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").POST_ERROR,response:c})},postIntended:function(a,c){setTimeout(function(){(!g||g(a,c.actorID,c.config,c.targetID))&&b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").POST_INTENDED,actorID:c.actorID,config:c.config,targetID:c.targetID})},0)},registerPostIntendedHandler:function(a){g=a},postStarted:function(a,c){var d=c.actorID,e=c.composerType,f=c.config,g=c.onPostSuccess,h=c.targetID,i=babelHelpers.objectWithoutProperties(c,["actorID","composerType","config","onPostSuccess","targetID"]);setTimeout(function(){return b("ReactComposerDispatcher").dispatch({composerID:a,composerType:e,type:b("ReactComposerActionTypes").POST_STARTED,actorID:d,config:f,targetID:h,onPostSuccess:g,otherData:i})},0)},createJobsOpeningFormatPostStarted:function(a){setTimeout(function(){return b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").POST_STARTED})},0)},postSucceeded:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").POST_SUCCEEDED})},postFinally:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").POST_FINALLY,response:c})},publishStarted:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").PUBLISH_STARTED})},postPreprocessing:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").POST_PREPROCESSING})},reset:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").COMPOSER_RESET})},expandSprouts:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").EXPAND_SPROUTS})},collapseSprouts:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").COLLAPSE_SPROUTS})},setLoggedSproutPromotionView:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").SET_LOGGED_SPROUT_PROMOTION_VIEW})},setFinishedSproutPromotion:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").SET_FINISHED_SPROUT_PROMOTION})},setQueueFinishedSproutPromotion:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").SET_QUEUE_FINISHED_SPROUT_PROMOTION})},setShouldShowVoiceSwitcherNux:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerActionTypes").SET_SHOULD_SHOW_VOICE_SWITCHER_NUX,value:c})}};e.exports=a}),null);
__d("ReactComposerPostUtilsCore",["invariant","ReactComposerActions"],(function(a,b,c,d,e,f,g){a={getCoreData:function(a,b,c){!isNaN(c)&&c>0||g(0);return Object.assign({is_react:!0,xhpc_composerid:a,xhpc_targetid:c},b)},handlePostSucceeded:function(a){b("ReactComposerActions").postSucceeded(a),b("ReactComposerActions").reset(a)}};e.exports=a}),null);
__d("ReactComposerAsyncRequest",["AsyncRequest","AsyncResponse","ReactComposerActions","ReactComposerPostUtilsCore"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("AsyncRequest"));g=c&&c.prototype;function a(a,b){"use strict";g.constructor.call(this,b),this.$ReactComposerAsyncRequest1=a,g.setHandler.call(this,this.$ReactComposerAsyncRequest5.bind(this)),g.setErrorHandler.call(this,this.$ReactComposerAsyncRequest6.bind(this)),g.setFinallyHandler.call(this,this.$ReactComposerAsyncRequest7.bind(this))}a.prototype.setHandler=function(a){"use strict";this.$ReactComposerAsyncRequest2=a;return this};a.prototype.setErrorHandler=function(a){"use strict";this.$ReactComposerAsyncRequest3=a;return this};a.prototype.setFinallyHandler=function(a){"use strict";this.$ReactComposerAsyncRequest4=a;return this};a.prototype.$ReactComposerAsyncRequest5=function(a){"use strict";__p&&__p();var c=this.$ReactComposerAsyncRequest8(a);if(c){this.$ReactComposerAsyncRequest9(a);return}setTimeout(function(){var c=a.payload&&a.payload.isPostPending;c||b("ReactComposerPostUtilsCore").handlePostSucceeded(this.$ReactComposerAsyncRequest1);this.$ReactComposerAsyncRequest2&&this.$ReactComposerAsyncRequest2(a)}.bind(this),0)};a.prototype.$ReactComposerAsyncRequest6=function(a){"use strict";var b=this.$ReactComposerAsyncRequest8(a);if(b){this.$ReactComposerAsyncRequest9(a);return}this.$ReactComposerAsyncRequest10(a)};a.prototype.$ReactComposerAsyncRequest8=function(a){"use strict";return a.payload&&a.payload.errors&&a.payload.errors[0]};a.prototype.$ReactComposerAsyncRequest9=function(a){"use strict";var c=this.$ReactComposerAsyncRequest8(a);a=new(b("AsyncResponse"))(a.getRequest(),a);a.errorSummary=c?c.summary:null;a.errorDescription=c?c.description:null;a.silentError=c&&c.is_silent;a.transientError=c&&c.is_transient;this.$ReactComposerAsyncRequest10(a)};a.prototype.$ReactComposerAsyncRequest10=function(a){"use strict";setTimeout(function(){b("ReactComposerActions").postError(this.$ReactComposerAsyncRequest1,a),this.$ReactComposerAsyncRequest3&&this.$ReactComposerAsyncRequest3(a)}.bind(this),0)};a.prototype.$ReactComposerAsyncRequest7=function(a){"use strict";setTimeout(function(){b("ReactComposerActions").postFinally(this.$ReactComposerAsyncRequest1,a),this.$ReactComposerAsyncRequest4&&this.$ReactComposerAsyncRequest4(a)}.bind(this),0)};e.exports=a}),null);
__d("ReactFeedSproutsComposerXStoryPost",["ComposerStoryCreateMutationWebGraphQLMutation","BanzaiODS","Bootloader","WebGraphQLLegacyHelper","XWebGraphQLMutationController","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={bootload:function(){b("Bootloader").loadModules(["ReactComposerAsyncRequest"],function(){},"ReactFeedSproutsComposerXStoryPost")},postToStory:function(a){var c=b("ComposerStoryCreateMutationWebGraphQLMutation").__getDocID(),d=b("WebGraphQLLegacyHelper").getURI({controller:b("XWebGraphQLMutationController"),docID:c});c=[{stories:{self:{target_id:a.targetID}}}];var e={actor_id:a.actorID,client_mutation_id:b("uuid")(),source:"WWW",audiences:c,message:{text:a.text,ranges:[]}};b("Bootloader").loadModules(["ReactComposerAsyncRequest"],function(c){c=new c(a.composerID,d).setHandler(a.successHandler).setData({variables:JSON.stringify({client_mutation_id:b("uuid")(),actor_id:a.actorID,input:e})});c.send();b("BanzaiODS").bumpEntityKey("webgraphml_publish","hit")},"ReactFeedSproutsComposerXStoryPost")}};e.exports=a}),null);